/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "../assets/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(1);
module.exports = __webpack_require__(4);


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var character_1 = __webpack_require__(2);
var Line_1 = __webpack_require__(3);
window.addEventListener('load', function () {
    var canvas = document.getElementById('canvas');
    var context = canvas.getContext('2d');
    var char = new character_1.default(['1', '2']);
    var canvasWidth = .8;
    char.x = canvas.width / 2;
    var line = new Line_1.default(canvas, context);
    setInterval(update, 1);
    canvas.width = window.innerWidth * canvasWidth;
    canvas.height = window.innerHeight * canvasWidth;
    window.addEventListener('resize', function () {
        canvas.width = window.innerWidth * canvasWidth;
        canvas.height = window.innerHeight * canvasWidth;
        char.resize(canvas);
    });
    window.addEventListener('mousemove', function (e) {
        var pos = {
            x: e.pageX - canvas.getBoundingClientRect().left,
            y: e.pageY - canvas.getBoundingClientRect().top
        };
        updateLine(pos.x);
    });
    window.addEventListener('touchmove', function (e) {
        var touch = e.touches[0];
        var pos = {
            x: touch.clientX - canvas.getBoundingClientRect().left,
            y: touch.clientY - canvas.getBoundingClientRect().top
        };
        updateLine(pos.x);
    });
    function updateLine(x) {
        line.x = x;
        line.y = 0;
        //console.log('pos', x);
        var b = 25 - Math.abs((line.x - canvas.width / 2)) / 4;
        if (b < 0)
            b = 0;
        canvas.style = 'filter:brightness(' + (b + 100) + '%)';
    }
    function update() {
        context.clearRect(0, 0, canvas.width, canvas.height);
        context.fillStyle = '#b0e0e6';
        context.fillRect(0, 0, line.x, canvas.height);
        context.fill();
        context.fillStyle = '#eed5d2';
        context.fillRect(line.x, 0, canvas.width - line.x, canvas.height);
        context.fill();
        char.resize(canvas);
        char.DrawImage(canvas, context, line.x);
        line.DrawImage(canvas, context);
    }
});


/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var character = /** @class */ (function () {
    function character(arrayOfFiles) {
        this.x = 0;
        this.y = 0;
        this.oneFile = arrayOfFiles.length === 1;
        this.size = { w: 0, h: 0 };
        this.size2 = { w: 0, h: 0 };
        this.imageObj = new Image();
        this.imageObj.src = 'assets/' + arrayOfFiles[0] + '.png';
        this.imageObj2 = new Image();
        if (this.oneFile) {
            this.imageObj2.src = 'assets/' + arrayOfFiles[0] + '.png';
        }
        else {
            this.imageObj2.src = 'assets/' + arrayOfFiles[1] + '.png';
        }
    }
    character.prototype.DrawImage = function (canvas, context, mouseX) {
        if (mouseX === void 0) { mouseX = canvas.width / 2; }
        var clipPrecentage;
        if (this.oneFile) {
            clipPrecentage = (mouseX - (this.x - this.size.w / 2)) / this.size.w * 2;
        }
        else {
            clipPrecentage = (mouseX - (this.x - this.size.w / 2)) / this.size.w;
        }
        //console.log(clipPrecentage);
        if (this.oneFile) {
            context.drawImage(this.imageObj, -this.imageObj.width / 4, 0, this.imageObj.width / 2 * Math.min(1.5, clipPrecentage), this.imageObj.height, this.x - this.size.w / 2, this.y, this.size.w / 2 * Math.min(1.5, clipPrecentage), this.size.h);
            context.drawImage(this.imageObj2, this.imageObj2.width / 2 + this.imageObj2.width / 2 * Math.max(0, clipPrecentage - 0.5), 0, this.imageObj2.width / 2 * (1 - Math.max(0, clipPrecentage - 0.5)), this.imageObj2.height, this.x - this.size2.w / 2 * (1 - Math.max(0, clipPrecentage - 0.5)) + this.size2.w / 4, this.y, this.size2.w / 2 * (1 - Math.max(0, clipPrecentage - 0.5)), this.size2.h);
        }
        else {
            context.drawImage(this.imageObj, 0, 0, this.imageObj.width * clipPrecentage, this.imageObj.height, this.x - this.size.w / 2, this.y, this.size.w * clipPrecentage, this.size.h);
            context.drawImage(this.imageObj2, this.imageObj2.width * clipPrecentage, 0, this.imageObj2.width * (1 - clipPrecentage), this.imageObj2.height, this.x - this.size2.w * (1 - clipPrecentage) + this.size2.w / 2, this.y, this.size2.w * (1 - clipPrecentage), this.size2.h);
        }
    };
    character.prototype.resize = function (canvas) {
        var scale = canvas.height / this.imageObj.height;
        this.size.h = this.imageObj.height * scale;
        this.size.w = this.imageObj.width * scale;
        scale = canvas.height / this.imageObj2.height;
        this.size2.h = this.imageObj2.height * scale;
        this.size2.w = this.imageObj2.width * scale;
        this.x = canvas.width / 2;
    };
    return character;
}());
exports.default = character;


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Line = /** @class */ (function () {
    function Line(canvas, context) {
        this.x = 0;
        this.y = 0;
        this.imageObj = new Image();
        this.imageObj.src = 'assets/light.png';
    }
    Line.prototype.DrawImage = function (canvas, context) {
        var scale = canvas.height / this.imageObj.height;
        context.drawImage(this.imageObj, this.x - this.imageObj.width * scale / 2, this.y, this.imageObj.width * scale, this.imageObj.height * scale);
    };
    return Line;
}());
exports.default = Line;


/***/ }),
/* 4 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgOWFiMGI1ODYxMjE4OTRkNGM4NzciLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2hhcmFjdGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9MaW5lLnRzIiwid2VicGFjazovLy8uL3Nhc3MvbWFpbi5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0RBLHlDQUFvQztBQUNwQyxvQ0FBMEI7QUFFMUIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRTtJQUM1QixJQUFJLE1BQU0sR0FBc0IsUUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNsRSxJQUFJLE9BQU8sR0FBNkIsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUVoRSxJQUFJLElBQUksR0FBYyxJQUFJLG1CQUFTLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNoRCxJQUFJLFdBQVcsR0FBVyxFQUFFLENBQUM7SUFFN0IsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztJQUMxQixJQUFJLElBQUks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QUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLGNBQWMsQ0FBQyxFQUMvQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FDZCxDQUFDO1lBRUYsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUM1QixJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLGNBQWMsR0FBRyxHQUFHLENBQUMsRUFDdkYsQ0FBQyxFQUNELElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLENBQUMsR0FBSSxDQUFDLENBQUMsR0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxjQUFjLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFDcEUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQ3JCLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLGNBQWMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFDdkYsSUFBSSxDQUFDLENBQUMsRUFDTixJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsY0FBYyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQzNELElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUNmLENBQUM7UUFDTixDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQzNCLENBQUMsRUFDRCxDQUFDLEVBQ0QsSUFBSSxDQUFD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IjoiZ2FtZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi4uL2Fzc2V0cy9cIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA5YWIwYjU4NjEyMTg5NGQ0Yzg3NyIsImltcG9ydCBjaGFyYWN0ZXIgZnJvbSAnLi9jaGFyYWN0ZXInO1xyXG5pbXBvcnQgTGluZSBmcm9tICcuL0xpbmUnO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICBsZXQgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcclxuICAgIGxldCBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICBsZXQgY2hhcjogY2hhcmFjdGVyID0gbmV3IGNoYXJhY3RlcihbJzEnLCAnMiddKTtcclxuICAgIGxldCBjYW52YXNXaWR0aDogbnVtYmVyID0gLjg7XHJcblxyXG4gICAgY2hhci54ID0gY2FudmFzLndpZHRoIC8gMjtcclxuICAgIGxldCBsaW5lOiBMaW5lID0gbmV3IExpbmUoY2FudmFzLCBjb250ZXh0KTtcclxuXHJcbiAgICBzZXRJbnRlcnZhbCh1cGRhdGUsIDEpO1xyXG5cclxuICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoICogY2FudmFzV2lkdGg7XHJcbiAgICBjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ICogY2FudmFzV2lkdGg7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoICogY2FudmFzV2lkdGg7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIGNhbnZhc1dpZHRoO1xyXG4gICAgICAgIGNoYXIucmVzaXplKGNhbnZhcyk7XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBmdW5jdGlvbihlOiBhbnkpIHtcclxuICAgICAgICB2YXIgcG9zID0ge1xyXG4gICAgICAgICAgICB4IDogZS5wYWdlWCAtIGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LFxyXG4gICAgICAgICAgICB5IDogZS5wYWdlWSAtIGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3BcclxuICAgICAgICB9O1xyXG4gICAgICAgIHVwZGF0ZUxpbmUocG9zLngpO1xyXG4gICAgIH0pO1xyXG4gICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbihlOiBhbnkpIHtcclxuICAgICAgICBsZXQgdG91Y2g6IGFueSA9IGUudG91Y2hlc1swXTtcclxuICAgICAgICB2YXIgcG9zID0ge1xyXG4gICAgICAgICAgICB4IDogdG91Y2guY2xpZW50WCAtIGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LFxyXG4gICAgICAgICAgICB5IDogdG91Y2guY2xpZW50WSAtIGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3BcclxuICAgICAgICB9O1xyXG4gICAgICAgIHVwZGF0ZUxpbmUocG9zLngpO1xyXG4gICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZUxpbmUoeDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgbGluZS54ID0geDtcclxuICAgICAgICBsaW5lLnkgPSAwO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3BvcycsIHgpO1xyXG4gICAgICAgIGxldCBiOiBudW1iZXIgPSAyNSAtIE1hdGguYWJzKChsaW5lLnggLSBjYW52YXMud2lkdGggLyAyKSkgLyA0O1xyXG4gICAgICAgIGlmKGIgPCAwKSBiID0gMDtcclxuICAgICAgICBjYW52YXMuc3R5bGUgPSAnZmlsdGVyOmJyaWdodG5lc3MoJyArICggYiArIDEwMCkgKyAnJSknO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2IwZTBlNidcclxuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGxpbmUueCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgY29udGV4dC5maWxsKCk7XHJcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2VlZDVkMidcclxuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KGxpbmUueCwgMCwgY2FudmFzLndpZHRoIC0gbGluZS54LCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICBjb250ZXh0LmZpbGwoKTtcclxuICAgICAgICBjaGFyLnJlc2l6ZShjYW52YXMpO1xyXG4gICAgICAgIGNoYXIuRHJhd0ltYWdlKGNhbnZhcywgY29udGV4dCwgbGluZS54KTtcclxuICAgICAgICBsaW5lLkRyYXdJbWFnZShjYW52YXMsIGNvbnRleHQpO1xyXG4gICAgfVxyXG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2NyaXB0LnRzIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgY2hhcmFjdGVyIHtcclxuICAgIHB1YmxpYyBpbWFnZU9iajogYW55O1xyXG4gICAgcHVibGljIGltYWdlT2JqMjogYW55O1xyXG4gICAgcHVibGljIHg6IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgeTogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgb25lRmlsZTogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgc2l6ZToge1xyXG4gICAgICAgIHc6IG51bWJlcixcclxuICAgICAgICBoOiBudW1iZXIgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBwdWJsaWMgc2l6ZTI6IHtcclxuICAgICAgICB3OiBudW1iZXIsXHJcbiAgICAgICAgaDogbnVtYmVyIFxyXG4gICAgfTtcclxuICAgICAgICBcclxuICAgIGNvbnN0cnVjdG9yKGFycmF5T2ZGaWxlczogc3RyaW5nW10pe1xyXG5cclxuICAgICAgICB0aGlzLm9uZUZpbGUgPSBhcnJheU9mRmlsZXMubGVuZ3RoID09PSAxO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IHt3OiAwLCBoOiAwfTtcclxuICAgICAgICB0aGlzLnNpemUyID0ge3c6IDAsIGg6IDB9O1xyXG4gXHJcbiAgICAgICAgdGhpcy5pbWFnZU9iaiA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VPYmouc3JjID0gJ2Fzc2V0cy8nICsgYXJyYXlPZkZpbGVzWzBdICsgJy5wbmcnO1xyXG5cclxuICAgICAgICB0aGlzLmltYWdlT2JqMiA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLm9uZUZpbGUpIHtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZU9iajIuc3JjID0gJ2Fzc2V0cy8nICsgYXJyYXlPZkZpbGVzWzBdICsgJy5wbmcnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VPYmoyLnNyYyA9ICdhc3NldHMvJyArIGFycmF5T2ZGaWxlc1sxXSArICcucG5nJztcclxuICAgICAgICB9XHJcbiAgICB9IFxyXG4gICAgXHJcbiAgICBwdWJsaWMgRHJhd0ltYWdlKGNhbnZhczogYW55LCBjb250ZXh0OiBhbnksIG1vdXNlWDogbnVtYmVyID0gY2FudmFzLndpZHRoIC8gMik6IHZvaWQge1xyXG4gICAgICAgIGxldCBjbGlwUHJlY2VudGFnZTogbnVtYmVyO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5vbmVGaWxlKSB7XHJcbiAgICAgICAgICAgIGNsaXBQcmVjZW50YWdlID0gKG1vdXNlWCAtICh0aGlzLnggLSB0aGlzLnNpemUudyAvIDIpKSAvIHRoaXMuc2l6ZS53ICogMjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjbGlwUHJlY2VudGFnZSA9IChtb3VzZVggLSAodGhpcy54IC0gdGhpcy5zaXplLncgLzIpKSAvIHRoaXMuc2l6ZS53O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2NvbnNvbGUubG9nKGNsaXBQcmVjZW50YWdlKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMub25lRmlsZSkge1xyXG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLmltYWdlT2JqLCBcclxuICAgICAgICAgICAgICAgIC10aGlzLmltYWdlT2JqLndpZHRoIC8gNCwgXHJcbiAgICAgICAgICAgICAgICAwLCBcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VPYmoud2lkdGggLyAyICogTWF0aC5taW4oMS41LCBjbGlwUHJlY2VudGFnZSksIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZU9iai5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnggLSB0aGlzLnNpemUudyAvIDIsIFxyXG4gICAgICAgICAgICAgICAgdGhpcy55LCBcclxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZS53IC8gMiAqIE1hdGgubWluKDEuNSwgY2xpcFByZWNlbnRhZ2UpLCBcclxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZS5oXHJcbiAgICAgICAgICAgICk7XHJcbiAgICBcclxuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5pbWFnZU9iajIsIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZU9iajIud2lkdGggLyAyICsgdGhpcy5pbWFnZU9iajIud2lkdGggLyAyICogTWF0aC5tYXgoMCwgY2xpcFByZWNlbnRhZ2UgLSAwLjUpLCBcclxuICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlT2JqMi53aWR0aCAvIDIgKiAgKDEgLSAgTWF0aC5tYXgoMCwgY2xpcFByZWNlbnRhZ2UgLSAwLjUpKSwgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlT2JqMi5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnggLSB0aGlzLnNpemUyLncgLyAyICogKDEgLSAgTWF0aC5tYXgoMCwgY2xpcFByZWNlbnRhZ2UgLSAwLjUpKSArIHRoaXMuc2l6ZTIudyAvIDQsIFxyXG4gICAgICAgICAgICAgICAgdGhpcy55LCBcclxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZTIudyAvIDIgKiAoMSAtICBNYXRoLm1heCgwLCBjbGlwUHJlY2VudGFnZSAtIDAuNSkpLCBcclxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZTIuaFxyXG4gICAgICAgICAgICApOyAgICBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLmltYWdlT2JqLCBcclxuICAgICAgICAgICAgICAgIDAsIFxyXG4gICAgICAgICAgICAgICAgMCwgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlT2JqLndpZHRoICogY2xpcFByZWNlbnRhZ2UsIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZU9iai5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnggLSB0aGlzLnNpemUudyAvIDIsIFxyXG4gICAgICAgICAgICAgICAgdGhpcy55LCBcclxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZS53ICogY2xpcFByZWNlbnRhZ2UsIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaXplLmhcclxuICAgICAgICAgICAgKTtcclxuICAgIFxyXG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLmltYWdlT2JqMiwgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlT2JqMi53aWR0aCAqIGNsaXBQcmVjZW50YWdlLCBcclxuICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlT2JqMi53aWR0aCAqICAoMSAtIGNsaXBQcmVjZW50YWdlKSwgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlT2JqMi5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnggLSB0aGlzLnNpemUyLncgKiAoMSAtIGNsaXBQcmVjZW50YWdlKSArIHRoaXMuc2l6ZTIudyAvIDIsIFxyXG4gICAgICAgICAgICAgICAgdGhpcy55LCBcclxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZTIudyAqICgxIC0gY2xpcFByZWNlbnRhZ2UpLCBcclxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZTIuaFxyXG4gICAgICAgICAgICApOyAgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgfSBcclxuICAgIHB1YmxpYyByZXNpemUoY2FudmFzOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBsZXQgc2NhbGU6IG51bWJlciA9IGNhbnZhcy5oZWlnaHQgLyB0aGlzLmltYWdlT2JqLmhlaWdodDtcclxuICAgICAgICB0aGlzLnNpemUuaCA9IHRoaXMuaW1hZ2VPYmouaGVpZ2h0ICogc2NhbGU7XHJcbiAgICAgICAgdGhpcy5zaXplLncgPSB0aGlzLmltYWdlT2JqLndpZHRoICogc2NhbGU7XHJcblxyXG4gICAgICAgIHNjYWxlID0gY2FudmFzLmhlaWdodCAvIHRoaXMuaW1hZ2VPYmoyLmhlaWdodDtcclxuICAgICAgICB0aGlzLnNpemUyLmggPSB0aGlzLmltYWdlT2JqMi5oZWlnaHQgKiBzY2FsZTtcclxuICAgICAgICB0aGlzLnNpemUyLncgPSB0aGlzLmltYWdlT2JqMi53aWR0aCAqIHNjYWxlO1xyXG4gICAgICAgIHRoaXMueCA9IGNhbnZhcy53aWR0aCAvIDI7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NoYXJhY3Rlci50cyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIExpbmUge1xyXG4gICAgcHVibGljIGltYWdlT2JqOiBhbnk7XHJcbiAgICBwdWJsaWMgeDogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyB5OiBudW1iZXIgPSAwO1xyXG4gICAgY29uc3RydWN0b3IoY2FudmFzOiBhbnksIGNvbnRleHQ6IGFueSl7XHJcbiAgICAgICAgdGhpcy5pbWFnZU9iaiA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VPYmouc3JjID0gJ2Fzc2V0cy9saWdodC5wbmcnO1xyXG4gICAgfSBcclxuICAgIFxyXG4gICAgcHVibGljIERyYXdJbWFnZShjYW52YXM6IGFueSwgY29udGV4dDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHNjYWxlID0gY2FudmFzLmhlaWdodCAvIHRoaXMuaW1hZ2VPYmouaGVpZ2h0O1xyXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2VPYmosIHRoaXMueCAtIHRoaXMuaW1hZ2VPYmoud2lkdGggKiBzY2FsZSAvIDIsIHRoaXMueSwgdGhpcy5pbWFnZU9iai53aWR0aCAqIHNjYWxlLCB0aGlzLmltYWdlT2JqLmhlaWdodCAqIHNjYWxlKTtcclxuICAgIH0gXHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL0xpbmUudHMiLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc2Fzcy9tYWluLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==